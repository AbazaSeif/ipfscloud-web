var ipfsCloudUploader=document.getElementById("IpfsCloudUploader");var uploadButton=document.createElement("button");var node=document.createTextNode("Upload to IpfsCloud");uploadButton.appendChild(node);uploadButton.id="uploadToIpfsCloud";var fileInput=document.createElement("input");fileInput.id="fileInput";fileInput.type="file";fileInput.hidden="true";ipfsCloudUploader.appendChild(uploadButton);ipfsCloudUploader.appendChild(fileInput);window.ipfscloud=document.getElementById("uploadToIpfsCloud");document.getElementById("fileInput").addEventListener('change',function(event){var file=document.getElementById("fileInput").files;var $this=$(document.getElementById("uploadToIpfsCloud"));if($this.hasClass("active")||$this.hasClass("success")){return!1}
$this.addClass("active loader");var formData=new FormData();formData.append("file",file[0]);$.ajax({url:"https://api.ipfscloud.store/file",type:"POST",data:formData,processData:!1,contentType:!1,success:function(data){var newFileUploaded=new CustomEvent("icevent",{detail:{"status":"success","data":data,"error":null}});document.getElementById("uploadToIpfsCloud").dispatchEvent(newFileUploaded);$this.removeClass("loader active");$this.text("Success :)");$this.addClass("success animated pulse");setTimeout(function(){$this.text("Upload to IpfsCloud");$this.removeClass("success animated pulse");$this.blur()},1300)},error:function(xhr,ajaxOptions,thrownError){var newFileUploaded=new CustomEvent("icevent",{detail:{"status":"success","data":null,"error":thrownError}});document.getElementById("uploadToIpfsCloud").dispatchEvent(newFileUploaded);$this.removeClass("loader active");$this.text("Error! Try Again");$this.addClass("error animated pulse");setTimeout(function(){$this.text("Upload to IpfsCloud");$this.removeClass("error animated pulse");$this.blur()},1300)}})});var $button=$('button[id="uploadToIpfsCloud"]');$button.on("click",function(){document.getElementById("fileInput").click()})